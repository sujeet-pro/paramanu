@layer pm.components {
  /* ------------------------------------------------------------------ */
  /* Progress Bar                                                        */
  /* ------------------------------------------------------------------ */

  @keyframes pm-progress-stripes {
    0% {
      background-position: 1rem 0;
    }
    100% {
      background-position: 0 0;
    }
  }

  @keyframes pm-progress-indeterminate {
    0% {
      left: -35%;
      width: 35%;
    }
    60% {
      left: 100%;
      width: 35%;
    }
    100% {
      left: 100%;
      width: 35%;
    }
  }

  .pm-progress {
    --pm-progress-height: 8px;
    --pm-progress-fill-color: var(--pm-primary);
    --pm-progress-track-color: var(--pm-neutral-hover);
    --pm-progress-radius: var(--pm-radius-full);

    display: flex;
    flex-direction: column;
    gap: var(--pm-spacing-1);
    width: 100%;
    box-sizing: border-box;

    /* Sizes */
    &.pm-progress--xs {
      --pm-progress-height: 2px;
    }

    &.pm-progress--sm {
      --pm-progress-height: 4px;
    }

    &.pm-progress--md {
      --pm-progress-height: 8px;
    }

    &.pm-progress--lg {
      --pm-progress-height: 12px;
    }

    /* Variants */
    &.pm-progress--primary {
      --pm-progress-fill-color: var(--pm-primary);
    }

    &.pm-progress--success {
      --pm-progress-fill-color: var(--pm-success);
    }

    &.pm-progress--warning {
      --pm-progress-fill-color: var(--pm-warning);
    }

    &.pm-progress--danger {
      --pm-progress-fill-color: var(--pm-danger);
    }

    /* Striped */
    &.pm-progress--striped .pm-progress__fill {
      background-image: repeating-linear-gradient(
        45deg,
        transparent,
        transparent 0.5rem,
        rgba(255, 255, 255, 0.15) 0.5rem,
        rgba(255, 255, 255, 0.15) 1rem
      );
      background-size: 1rem 1rem;
    }

    /* Animated stripes */
    &.pm-progress--animated .pm-progress__fill {
      animation: pm-progress-stripes 1s linear infinite;
    }

    /* Indeterminate */
    &.pm-progress--indeterminate .pm-progress__fill {
      position: absolute;
      animation: pm-progress-indeterminate 1.5s ease-in-out infinite;
    }

    /* With label */
    &.pm-progress--with-label {
      /* reserve space for label */
    }
  }

  .pm-progress__track {
    position: relative;
    width: 100%;
    height: var(--pm-progress-height);
    background-color: var(--pm-progress-track-color);
    border-radius: var(--pm-progress-radius);
    overflow: hidden;
  }

  .pm-progress__fill {
    height: 100%;
    background-color: var(--pm-progress-fill-color);
    border-radius: var(--pm-progress-radius);
    transition: width var(--pm-transition-normal) ease-in-out;
  }

  .pm-progress__label {
    font-family: var(--pm-font-family-sans);
    font-size: var(--pm-font-size-xs);
    font-weight: var(--pm-font-weight-medium);
    color: var(--pm-fg-muted);
    text-align: right;
    line-height: 1;
  }

  @media (prefers-reduced-motion: reduce) {
    .pm-progress--animated .pm-progress__fill {
      animation: none;
    }

    .pm-progress--indeterminate .pm-progress__fill {
      animation: none;
    }
  }

  /* ---- Theme overrides ---- */

  .pm-theme-antd .pm-progress {
    --pm-progress-radius: 4px;
  }

  .pm-theme-material .pm-progress {
    --pm-progress-radius: 12px;
  }

  .pm-theme-bootstrap .pm-progress {
    --pm-progress-radius: 6px;
  }

  .pm-theme-dark-modern .pm-progress {
    --pm-progress-track-color: var(--pm-color-neutral-800);
  }

  .pm-theme-light-modern .pm-progress {
    --pm-progress-track-color: var(--pm-color-neutral-100);
  }
}
