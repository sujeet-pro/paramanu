---
title: Presence
description: Manages mount/unmount animation lifecycle for enter and exit transitions.
badge:
  text: In Development
  variant: caution
---

import { Aside, Tabs, TabItem } from "@astrojs/starlight/components"

<Aside type="caution" title="In Development">
  This component is currently in development. The API is not yet stable and may change in future
  releases.
</Aside>

## Overview

Presence controls when elements are added to and removed from the DOM, enabling CSS-driven enter and exit animations. Instead of immediately removing an element, it transitions through an `exiting` state allowing animations to complete.

## Usage

<Tabs>
  <TabItem label="HTML">
    ```js
    import { createPresence } from "@paramanu/utilities-js"

    const presence = createPresence(element, {
      duration: 300,
      onExited: () => element.remove(),
    })
    presence.setPresent(true)  // entering -> entered
    presence.setPresent(false) // exiting -> exited
    ```

</TabItem>
  <TabItem label="React">
    ```tsx
    import { Presence } from "@paramanu/utilities-react"

    <Presence present={isOpen} duration={200}>
      <div className="panel">Animated content</div>
    </Presence>
    ```

</TabItem>
</Tabs>

## Guidelines

- Match the `duration` prop to your CSS transition/animation duration
- Use `usePresence` hook for custom animation logic
- States flow: `exited` -> `entering` -> `entered` -> `exiting` -> `exited`
- Supports render props for state-based class application

## API

| Prop        | Type         | Default | Description                           |
| ----------- | ------------ | ------- | ------------------------------------- |
| `present`   | `boolean`    | -       | Whether the element should be visible |
| `duration`  | `number`     | `200`   | Transition duration in milliseconds   |
| `onEntered` | `() => void` | -       | Callback when enter completes         |
| `onExited`  | `() => void` | -       | Callback when exit completes          |
